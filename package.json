{
  "name": "pawsql",
  "displayName": "PawSQL",
  "description": "SQL Optimization Extension for VS Code",
  "publisher": "hyliang",
  "version": "0.0.1",
  "engines": {
    "vscode": "^1.80.0"
  },
  "categories": [
    "Other"
  ],
  "activationEvents": [
    "onStartupFinished",
    "pawsql.mainMenu"
  ],
  "main": "./dist/extension.js",
  "contributes": {
    "viewsContainers": {
      "activitybar": [
        {
          "id": "pawsqlContainer",
          "title": "PawSQL",
          "icon": "./resources/icon/paw.svg"
        }
      ]
    },
    "views": {
      "pawsqlContainer": [
        {
          "id": "pawsqlSidebar",
          "name": "PawSQL Sidebar",
          "type": "tree",
          "visibility": "visible"
        }
      ]
    },
    "colors": [
      {
        "id": "pawsql.currentQueryBg",
        "description": "Background decoration color for current query",
        "defaults": {
          "dark": "#00a2ff20",
          "light": "#00a2ff20",
          "highContrast": "#00a2ff20"
        }
      },
      {
        "id": "pawsql.currentQueryOutline",
        "description": "Background decoration color for current query",
        "defaults": {
          "dark": "#00a2ff20",
          "light": "#00a2ff20",
          "highContrast": "#00a2ff20"
        }
      }
    ],
    "localization": {
      "zh-CN": "./i18n/zh-cn.json",
      "en": "./i18n/en.json"
    },
    "commands": [
      {
        "command": "vscode-webview-react.showWebview",
        "title": "Show React Webview"
      },
      {
        "command": "pawsql.configureApiKey",
        "title": "%commands.configureApiKey%"
      },
      {
        "command": "pawsql.configureApiURL",
        "title": "%commands.configureApiURL%"
      },
      {
        "command": "pawsql.noApiKeyHint",
        "title": "%commands.noApiKeyHint%"
      },
      {
        "command": "pawsql.recentWorkspace",
        "title": "%commands.recentWorkspace%"
      },
      {
        "command": "pawsql.selectDefaultWorkspace",
        "title": "%commands.selectDefaultWorkspace%"
      },
      {
        "command": "pawsql.optimizeUsingDefaultWorkspace",
        "title": "%commands.optimizeUsingDefaultWorkspace%"
      },
      {
        "command": "pawsql.selectWorkspace",
        "title": "%commands.selectWorkspace%"
      },
      {
        "command": "pawsql.selectWorkspaceForOptimization",
        "title": "%commands.selectWorkspaceForOptimization%"
      },
      {
        "command": "pawsql.openSettings",
        "title": "%commands.openSettings%",
        "icon": "$(gear)"
      },
      {
        "command": "pawsql.refreshTree",
        "title": "%commands.refreshTree%",
        "icon": "$(sync)"
      },
      {
        "command": "pawsql.createWorkspace",
        "title": "%commands.createWorkspace%",
        "icon": "$(add)"
      },
      {
        "command": "pawsql.setDefaultWorkspace",
        "title": "%commands.setDefaultWorkspace%",
        "icon": "$(star)"
      },
      {
        "command": "selectFileDefaultWorkspace",
        "title": "%commands.selectFileDefaultWorkspace%"
      }
    ],
    "submenus": [
      {
        "id": "pawsql.mainMenu",
        "label": "%menus.mainMenu%"
      }
    ],
    "configuration": [
      {
        "id": "pawsqlInit",
        "title": "%config.initialization.title%",
        "description": "%config.initialization.description%",
        "properties": {
          "pawsql.apiKey": {
            "type": "string",
            "default": "",
            "description": "%config.initialization.apiKey.description%",
            "markdownDescription": "%config.initialization.apiKey.markdownDescription%",
            "order": 1
          },
          "pawsql.url.backendUrl": {
            "type": "string",
            "default": "",
            "description": "%config.initialization.backendUrl.description%",
            "markdownDescription": "%config.initialization.backendUrl.markdownDescription%",
            "order": 2
          },
          "pawsql.url.frontendUrl": {
            "type": "string",
            "default": "",
            "description": "%config.initialization.frontendUrl.description%",
            "markdownDescription": "%config.initialization.frontendUrl.markdownDescription%",
            "order": 3
          }
        }
      },
      {
        "id": "pawsqlWorkspace",
        "title": "%config.workspace.title%",
        "description": "%config.workspace.description%",
        "properties": {
          "pawsql.defaultWorkspace": {
            "type": "object",
            "title": "%config.workspace.default.title%",
            "description": "%config.workspace.default.description%",
            "markdownDescription": "%config.workspace.default.markdownDescription%",
            "properties": {
              "workspaceId": {
                "type": "string",
                "description": "%config.workspace.default.workspaceId.description%",
                "markdownDescription": "%config.workspace.default.workspaceId.markdownDescription%"
              },
              "workspaceName": {
                "type": "string",
                "description": "%config.workspace.default.workspaceName.description%",
                "markdownDescription": "%config.workspace.default.workspaceName.markdownDescription%"
              },
              "dbType": {
                "type": "string",
                "description": "%config.workspace.default.dbType.description%",
                "markdownDescription": "%config.workspace.default.dbType.markdownDescription%"
              },
              "dbHost": {
                "type": "string",
                "description": "%config.workspace.default.dbHost.description%",
                "markdownDescription": "%config.workspace.default.dbHost.markdownDescription%"
              },
              "dbPort": {
                "type": "string",
                "description": "%config.workspace.default.dbPort.description%",
                "markdownDescription": "%config.workspace.default.dbPort.markdownDescription%"
              }
            }
          },
          "pawsql.recentWorkspaces": {
            "type": "array",
            "title": "%config.workspace.recent.title%",
            "description": "%config.workspace.recent.description%",
            "markdownDescription": "%config.workspace.recent.markdownDescription%",
            "default": [],
            "items": {
              "type": "object",
              "title": "%config.workspace.recent.item.title%",
              "description": "%config.workspace.recent.item.description%",
              "properties": {
                "workspaceId": {
                  "type": "string",
                  "description": "%config.workspace.recent.workspaceId.description%",
                  "markdownDescription": "%config.workspace.recent.workspaceId.markdownDescription%"
                },
                "workspaceName": {
                  "type": "string",
                  "description": "%config.workspace.recent.workspaceName.description%",
                  "markdownDescription": "%config.workspace.recent.workspaceName.markdownDescription%"
                },
                "dbType": {
                  "type": "string",
                  "description": "%config.workspace.recent.dbType.description%",
                  "markdownDescription": "%config.workspace.recent.dbType.markdownDescription%"
                },
                "dbHost": {
                  "type": "string",
                  "description": "%config.workspace.recent.dbHost.description%",
                  "markdownDescription": "%config.workspace.recent.dbHost.markdownDescription%"
                },
                "dbPort": {
                  "type": "string",
                  "description": "%config.workspace.recent.dbPort.description%",
                  "markdownDescription": "%config.workspace.recent.dbPort.markdownDescription%"
                }
              }
            }
          },
          "pawsql.fileWorkspaceMappings": {
            "type": "object",
            "title": "%config.workspace.fileMapping.title%",
            "description": "%config.workspace.fileMapping.description%",
            "markdownDescription": "%config.workspace.fileMapping.markdownDescription%",
            "default": {}
          }
        }
      }
    ],
    "menus": {
      "editor/context": [
        {
          "submenu": "pawsql.mainMenu"
        },
        {
          "command": "pawsql.selectDefaultWorkspace",
          "group": "navigation"
        }
      ],
      "view/item/context": [
        {
          "command": "pawsql.createWorkspace",
          "when": "view == pawsqlSidebar && viewItem == workspaceManager",
          "group": "inline@1"
        },
        {
          "command": "pawsql.refreshTree",
          "when": "view == pawsqlSidebar && viewItem == workspaceManager",
          "group": "inline@2"
        },
        {
          "command": "pawsql.openSettings",
          "when": "view == pawsqlSidebar && viewItem == workspaceManager",
          "group": "inline@3"
        },
        {
          "command": "pawsql.setDefaultWorkspace",
          "when": "view == pawsqlSidebar && viewItem == workspaceItem",
          "group": "inline"
        }
      ],
      "pawsql.mainMenu": [
        {
          "command": "pawsql.selectWorkspace",
          "when": "pawsql:hasApiKey",
          "group": "1_workspace",
          "title": "%menus.selectWorkspace%"
        },
        {
          "command": "pawsql.configureApiKey",
          "when": "pawsql:hasApiKey",
          "group": "2_config",
          "title": "%menus.configureApiKey%"
        },
        {
          "command": "pawsql.configureApiURL",
          "when": "pawsql:hasApiKey",
          "group": "2_config",
          "title": "%menus.configureApiURL%"
        },
        {
          "command": "pawsql.noApiKeyHint",
          "when": "!pawsql:hasApiKey",
          "group": "3_config",
          "title": "%menus.noApiKeyHint%"
        },
        {
          "command": "pawsql.recentWorkspace",
          "when": "pawsql:recentWorkspacesCount >= 1",
          "group": "1_workspace",
          "title": "%menus.recentWorkspace%"
        }
      ]
    },
    "icons": {
      "pawsql-icon": {
        "description": "PawSQL",
        "default": {
          "fontPath": "./resources/icon/icomoon.woff",
          "fontCharacter": "\\E900"
        }
      }
    }
  },
  "scripts": {
    "vscode:prepublish": "npm run package",
    "compile": "webpack",
    "watch": "webpack --watch",
    "package": "webpack --mode production --devtool hidden-source-map",
    "build-webview": "esbuild src/webview/index.tsx --bundle --minify --outfile=dist/webview.js --external:vscode-webview --format=iife --platform=browser",
    "lint": "eslint src --ext ts"
  },
  "devDependencies": {
    "@types/node": "^16.0.0",
    "@types/vscode": "^1.80.0",
    "@typescript-eslint/eslint-plugin": "^5.0.0",
    "@typescript-eslint/parser": "^5.0.0",
    "eslint": "^8.0.0",
    "ts-loader": "^9.0.0",
    "typescript": "^4.0.0",
    "webpack": "^5.0.0",
    "webpack-cli": "^4.0.0",
    "@types/react": "^18.2.0",
    "@types/react-dom": "^18.2.0",
    "esbuild": "^0.19.0"
  },
  "dependencies": {
    "axios": "^1.7.7",
    "supports-color": "^9.4.0",
    "vscode-nls": "^5.2.0",
    "react": "^18.2.0",
    "react-dom": "^18.2.0"
  }
}
